"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2852],{54748:(L,f,t)=>{t.d(f,{M:()=>e});var C=t(58837),r=t(71677),i=t(14041),p=t(72501);const v=(0,C.A)({container:{overflow:"visible !important"},typo:{fontSize:"inherit",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":({line:s})=>s||1,"-webkit-box-orient":"vertical"}},{name:"BackstageOverflowTooltip"});function e(s){const m=v(s);return i.createElement(r.Ay,{title:s.title??(s.text||""),placement:s.placement},i.createElement(p.A,{className:m.typo,variant:"inherit"},s.text))}},92852:(L,f,t)=>{t.r(f),t.d(f,{ConsumingComponentsCard:()=>R,ProvidingComponentsCard:()=>A});var C=t(97214),r=t(72501),i=t(35301),p=t(16400),v=t(39557),e=t(14041),s=t(21332),m=t(96872),a=t(99338),h=t(62112),O=t(75202);const R=c=>{const{variant:o="gridItem",columns:l=i.s.componentEntityColumns}=c,{entity:d}=(0,p.tN)(),{entities:n,loading:u,error:E}=(0,v.E)(d,{type:C.fO});return u?e.createElement(s.n,{variant:o,title:"Consumers"},e.createElement(m.k,null)):E||!n?e.createElement(s.n,{variant:o,title:"Consumers"},e.createElement(a.B,{severity:"error",title:"Could not load components",message:e.createElement(h.z,{text:`${E}`,language:"text"})})):e.createElement(i.s,{title:"Consumers",variant:o,emptyContent:e.createElement("div",{style:{textAlign:"center"}},e.createElement(r.A,{variant:"body1"},"No component consumes this API."),e.createElement(r.A,{variant:"body2"},e.createElement(O.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional"},"Learn how to change this."))),columns:l,entities:n})},A=c=>{const{variant:o="gridItem",columns:l=i.s.componentEntityColumns}=c,{entity:d}=(0,p.tN)(),{entities:n,loading:u,error:E}=(0,v.E)(d,{type:C.IB});return u?e.createElement(s.n,{variant:o,title:"Providers"},e.createElement(m.k,null)):E||!n?e.createElement(s.n,{variant:o,title:"Providers"},e.createElement(a.B,{severity:"error",title:"Could not load components",message:e.createElement(h.z,{text:`${E}`,language:"text"})})):e.createElement(i.s,{title:"Providers",variant:o,emptyContent:e.createElement("div",{style:{textAlign:"center"}},e.createElement(r.A,{variant:"body1"},"No component provides this API."),e.createElement(r.A,{variant:"body2"},e.createElement(O.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional"},"Learn how to change this."))),columns:l,entities:n})}},35301:(L,f,t)=>{t.d(f,{s:()=>c});var C=t(58837),r=t(14041),i=t(97214),p=t(54748),v=t(699),e=t(37281),s=t(14158),m=t(53318);const a=Object.freeze({createEntityRefColumn(o){const{defaultKind:l}=o;function d(n){return n.metadata?.title||(0,m.S)(n,{defaultKind:l})}return{title:"Name",highlight:!0,customFilterAndSearch(n,u){return d(u).includes(n)},customSort(n,u){return d(n).localeCompare(d(u))},render:n=>r.createElement(e.z,{entityRef:n,defaultKind:l,title:n.metadata?.title})}},createEntityRelationColumn(o){const{title:l,relation:d,defaultKind:n,filter:u}=o;function E(y){return(0,v.t)(y,d,u)}function P(y){return E(y).map(g=>(0,m.S)(g,{defaultKind:n})).join(", ")}return{title:l,customFilterAndSearch(y,g){return P(g).includes(y)},customSort(y,g){return P(y).localeCompare(P(g))},render:y=>r.createElement(s.i,{entityRefs:E(y),defaultKind:n})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:i.vv,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:i.jn,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:i.jn,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:o=>r.createElement(p.M,{text:o.metadata.description,placement:"bottom-start",line:2})}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),h=[a.createEntityRefColumn({defaultKind:"system"}),a.createDomainColumn(),a.createOwnerColumn(),a.createMetadataDescriptionColumn()],O=[a.createEntityRefColumn({defaultKind:"component"}),a.createSystemColumn(),a.createOwnerColumn(),a.createSpecTypeColumn(),a.createSpecLifecycleColumn(),a.createMetadataDescriptionColumn()];var R=t(29021);const A=(0,C.A)(o=>({empty:{padding:o.spacing(2),display:"flex",justifyContent:"center"}})),c=o=>{const{entities:l,title:d,emptyContent:n,variant:u="gridItem",columns:E,tableOptions:P={}}=o,y=A(),g={minWidth:"0",width:"100%"};return u==="gridItem"&&(g.height="calc(100% - 10px)"),r.createElement(R.X,{columns:E,title:d,style:g,emptyContent:n&&r.createElement("div",{className:y.empty},n),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense",draggable:!1,...P},data:l})};c.columns=a,c.systemEntityColumns=h,c.componentEntityColumns=O},39557:(L,f,t)=>{t.d(f,{E:()=>v});var C=t(78560),r=t(18139),i=t(73466),p=t(30043);function v(e,s){const m=s?.type?.toLocaleLowerCase("en-US"),a=s?.kind?.toLocaleLowerCase("en-US"),h=(0,r.gf)(p.v),{loading:O,value:R,error:A}=(0,i.A)(async()=>{const c=e.relations?.filter(l=>(!m||l.type.toLocaleLowerCase("en-US")===m)&&(!a||(0,C.KU)(l.targetRef).kind===a));if(!c?.length)return[];const{items:o}=await h.getEntitiesByRefs({entityRefs:c.map(l=>l.targetRef)});return o.filter(l=>!!l)},[e,m,a]);return{entities:R,loading:O,error:A}}}}]);})();

//# sourceMappingURL=2852.ad88e941.chunk.js.map
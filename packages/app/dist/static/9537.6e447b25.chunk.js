"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9537],{99537:(j,f,e)=>{e.r(f),e.d(f,{AboutCard:()=>De,AboutContent:()=>oe,AboutField:()=>p});var g=e(55488),C=e(78560),r=e(98890),E=e(40703),L=e(48653),I=e(45685),Q=e(37197),H=e(29365),x=e(58837),O=e(75202),R=e(92483),t=e(14041),V=e(53373),D=e.n(V),A=e(86613),S=e(77125),u=e(72501);const i=(0,x.A)(l=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:l.palette.text.secondary,cursor:"default"},primary:{color:l.palette.primary.main},secondary:{color:l.palette.secondary.main},label:{textTransform:"uppercase",fontWeight:l.typography.fontWeightBold,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function T({color:l="primary",disabled:a=!1,href:o="#",icon:n=t.createElement(A.A,null),label:s,onClick:y,title:m}){const c=i();return a?t.createElement(S.A,{title:m,className:D()(c.link,c.disabled)},n,t.createElement(u.A,{variant:"caption",component:"span",className:c.label},s)):t.createElement(O.N_,{title:m,className:D()(c.link,c[l]),to:o,onClick:y},n,t.createElement(u.A,{variant:"caption",component:"span",className:c.label},s))}const W=(0,x.A)(l=>({links:{margin:l.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:l.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function J(l){const{links:a}=l,o=W();return t.createElement("nav",{className:o.links},a.map((n,s)=>t.createElement(T,{key:s+1,...n})))}var X=e(54934),ce=e(13660),q=e(95208);const me=l=>{const{type:a}=l,o=(0,q.n)(),n=ce.A,s=a?o.getSystemIcon(a)??n:n;return t.createElement(s,null)};var B=e(18139),de=e(34477),ue=e(24453),_=e(72814),ve=e(16400),ee=e(30043),te=e(79112);function fe(l,a){const o=l.metadata.annotations?.[r.I4];if(o)try{const n=(0,te.aY)(o),s=a.byUrl(n.target);return{locationTargetUrl:n.target,integrationType:s?.type}}catch{return}}var ae=e(88549),k=e(97214),M=e(699),G=e(14158),ge=e(67720),ne=e(42899),pe=e(28364),ye=e(77026);const Ce=(0,x.A)(l=>({value:{fontWeight:"bold",overflow:"hidden",lineHeight:"24px",wordBreak:"break-word"},label:{color:l.palette.text.secondary,textTransform:"uppercase",fontSize:"10px",fontWeight:"bold",letterSpacing:.5,overflow:"hidden",whiteSpace:"nowrap"}}));function p(l){const{label:a,value:o,gridSizes:n,children:s,className:y}=l,m=Ce(),c=(0,ye.O)(s,h=>h.getElements()),z=c.length>0?c:t.createElement(u.A,{variant:"body2",className:m.value},o||"unknown");return t.createElement(ne.A,{item:!0,...n,className:y},t.createElement(u.A,{variant:"h2",className:m.label},a),z)}var Ee=e(71096),se=e(10265),le=e(58045);const Ae=(0,x.A)({description:{wordBreak:"break-word"}});function he(l,a,o){if(a==="url"||l.includes("://"))return l;const n=o.type==="file"?`file://${o.target}`:o.target;return a==="file"||o.type==="file"?new URL(l,n).href:n}function oe(l){const{entity:a}=l,o=Ae(),{t:n}=(0,se.i)(le.W),s=a.kind.toLocaleLowerCase("en-US")==="system",y=a.kind.toLocaleLowerCase("en-US")==="resource",m=a.kind.toLocaleLowerCase("en-US")==="component",c=a.kind.toLocaleLowerCase("en-US")==="api",z=a.kind.toLocaleLowerCase("en-US")==="template",h=a.kind.toLocaleLowerCase("en-US")==="location",b=a.kind.toLocaleLowerCase("en-US")==="group",N=(0,M.t)(a,k.jn,{kind:"system"}),K=(0,M.t)(a,k.jn,{kind:"component"}),d=(0,M.t)(a,k.jn,{kind:"domain"}),P=(0,M.t)(a,k.vv);let F;try{F=(0,te.Cr)(a)}catch{F=void 0}return t.createElement(ne.A,{container:!0},t.createElement(p,{label:n("aboutCard.descriptionField.label"),gridSizes:{xs:12}},t.createElement(pe.h,{className:o.description,content:a?.metadata?.description||n("aboutCard.descriptionField.value")})),t.createElement(p,{label:n("aboutCard.ownerField.label"),value:n("aboutCard.ownerField.value"),className:o.description,gridSizes:{xs:12,sm:6,lg:4}},P.length>0&&t.createElement(G.i,{entityRefs:P,defaultKind:"group"})),(s||d.length>0)&&t.createElement(p,{label:n("aboutCard.domainField.label"),value:n("aboutCard.domainField.value"),gridSizes:{xs:12,sm:6,lg:4}},d.length>0&&t.createElement(G.i,{entityRefs:d,defaultKind:"domain"})),(c||m||y||N.length>0)&&t.createElement(p,{label:n("aboutCard.systemField.label"),value:n("aboutCard.systemField.value"),gridSizes:{xs:12,sm:6,lg:4}},N.length>0&&t.createElement(G.i,{entityRefs:N,defaultKind:"system"})),m&&K.length>0&&t.createElement(p,{label:n("aboutCard.parentComponentField.label"),value:n("aboutCard.parentComponentField.value"),gridSizes:{xs:12,sm:6,lg:4}},t.createElement(G.i,{entityRefs:K,defaultKind:"component"})),(c||m||y||z||b||h||typeof a?.spec?.type=="string")&&t.createElement(p,{label:n("aboutCard.typeField.label"),value:a?.spec?.type,gridSizes:{xs:12,sm:6,lg:4}}),(c||m||typeof a?.spec?.lifecycle=="string")&&t.createElement(p,{label:n("aboutCard.lifecycleField.label"),value:a?.spec?.lifecycle,gridSizes:{xs:12,sm:6,lg:4}}),t.createElement(p,{label:n("aboutCard.tagsField.label"),value:n("aboutCard.tagsField.value"),gridSizes:{xs:12,sm:6,lg:4}},(a?.metadata?.tags||[]).map(v=>t.createElement(ge.A,{key:v,size:"small",label:v}))),h&&(a?.spec?.targets||a?.spec?.target)&&t.createElement(p,{label:n("aboutCard.targetsField.label"),gridSizes:{xs:12}},t.createElement(Ee.m,{cols:1,items:(a.spec.targets||[a.spec.target]).map(v=>v).map(v=>({text:v,href:he(v,a?.spec?.type||"unknown",F)}))})))}var Se=e(74011),Le=e(25534),Ie=e(4832),xe=e(75625),Re=e(45281),Te=e(56299),be=e(71913),Ne=e(91638);const Fe="backstage.io/source-template",ze=l=>{const a=(0,B.gf)(ee.v),{value:o}=(0,Ne.A)(async()=>{const n=l.metadata.annotations?.[Fe];let s;if(n)try{const y=await a.getEntityByRef(n);return s=(0,C.KU)(n),y!==void 0?s:void 0}catch{return}},[a,l]);return o};var Ue=e(31627),He=e(90712);const Oe="backstage.io/techdocs-ref",Y="backstage.io/techdocs-entity",Be=(0,x.A)({gridItemCard:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"},fullHeightCard:{display:"flex",flexDirection:"column",height:"100%"},gridItemCardContent:{flex:1},fullHeightCardContent:{flex:1}});function De(l){const{variant:a}=l,o=(0,q.n)(),n=Be(),{entity:s}=(0,ve.tN)(),y=(0,B.gf)(X.Y),m=(0,B.gf)(ee.v),c=(0,B.gf)(de.k),z=(0,B.gf)(ue.m),h=(0,_.S)(ae.UJ),b=(0,_.S)(ae.Zg),N=ze(s),{allowed:K}=(0,Te.A)(be.tS),{t:d}=(0,se.i)(le.W),{allowed:P}=(0,He.J)({permission:Ue.X6}),F=fe(s,y),v=s.metadata.annotations?.[g.P];let U;if(s.metadata.annotations?.[Y])try{U=(0,C.KU)(s.metadata.annotations?.[Y])}catch{U=void 0}const We={label:d("aboutCard.viewSource"),disabled:!F,icon:t.createElement(me,{type:F?.integrationType}),href:F?.locationTargetUrl},ke={label:d("aboutCard.viewTechdocs"),disabled:!(s.metadata.annotations?.[Oe]||s.metadata.annotations?.[Y])||!h,icon:t.createElement(Ie.A,null),href:h&&h(U?{namespace:U.namespace||g.oQ,kind:U.kind,name:U.name}:{namespace:s.metadata.namespace||g.oQ,kind:s.kind,name:s.metadata.name})},ie=[We,ke];if((0,Re.c)(s)){const w=o.getSystemIcon("scaffolder")??Le.A,Ke={label:d("aboutCard.launchTemplate"),icon:t.createElement(w,null),disabled:!b||!P,href:b&&b({templateName:s.metadata.name,namespace:s.metadata.namespace||g.oQ})};ie.push(Ke)}let Z="";a==="gridItem"?Z=n.gridItemCard:a==="fullHeight"&&(Z=n.fullHeightCard);let $="";a==="gridItem"?$=n.gridItemCardContent:a==="fullHeight"&&($=n.fullHeightCardContent);const re=s.metadata.annotations?.[r.Eo],Me=re?.startsWith("url:")||re?.startsWith("file:"),Ge=(0,t.useCallback)(async()=>{try{await m.refreshEntity((0,C.U2)(s)),c.post({message:d("aboutCard.refreshScheduledMessage"),severity:"info",display:"transient"})}catch(w){z.post(w)}},[m,s,c,d,z]);return t.createElement(E.A,{className:Z},t.createElement(I.A,{title:d("aboutCard.title"),action:t.createElement(t.Fragment,null,Me&&K&&t.createElement(H.A,{"aria-label":"Refresh",title:d("aboutCard.refreshButtonTitle"),onClick:Ge},t.createElement(Se.A,null)),t.createElement(H.A,{component:O.N_,"aria-label":"Edit",disabled:!v,title:d("aboutCard.editButtonTitle"),to:v??"#"},t.createElement(xe.A,null)),N&&b&&t.createElement(H.A,{component:O.N_,title:d("aboutCard.createSimilarButtonTitle"),to:b({namespace:N.namespace,templateName:N.name})},t.createElement(R.z9,{id:"scaffolder"}))),subheader:t.createElement(J,{links:ie})}),t.createElement(Q.A,null),t.createElement(L.A,{className:$},t.createElement(oe,{entity:s})))}},71096:(j,f,e)=>{e.d(f,{m:()=>D});var g=e(24709),C=e(44913),r=e(14041),E=e(77125),L=e(72501),I=e(58837),Q=e(23127),H=e(75202);const x=(0,I.A)({svgIcon:{display:"inline-block","& svg":{display:"inline-block",fontSize:"inherit",verticalAlign:"baseline"}}});function O(A){const{href:S,text:u,Icon:i}=A,T=x();return r.createElement(E.A,{display:"flex"},r.createElement(E.A,{mr:1,className:T.svgIcon},r.createElement(L.A,{component:"div"},i?r.createElement(i,null):r.createElement(Q.A,null))),r.createElement(E.A,{flexGrow:"1"},r.createElement(H.N_,{to:S,target:"_blank",rel:"noopener"},u||S)))}var R=e(5893);const t={xs:1,sm:1,md:1,lg:2,xl:3};function V(A){const S=[(0,R.A)(i=>i.breakpoints.up("xl"))?"xl":null,(0,R.A)(i=>i.breakpoints.up("lg"))?"lg":null,(0,R.A)(i=>i.breakpoints.up("md"))?"md":null,(0,R.A)(i=>i.breakpoints.up("sm"))?"sm":null,(0,R.A)(i=>i.breakpoints.up("xs"))?"xs":null];let u=1;if(typeof A=="number")u=A;else{const i=S.find(T=>T!==null)??"xs";u=A?.[i]??t[i]}return u}function D(A){const{items:S,cols:u=void 0}=A,i=V(u);return r.createElement(g.A,{rowHeight:"auto",cols:i},S.map(({text:T,href:W,Icon:J},X)=>r.createElement(C.A,{key:X},r.createElement(O,{href:W,text:T??W,Icon:J}))))}},74011:(j,f,e)=>{var g,C=e(4293),r=e(78920);g={value:!0},f.A=void 0;var E=r(e(14041)),L=C(e(74044)),I=(0,L.default)(E.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");f.A=I},13660:(j,f,e)=>{var g,C=e(4293),r=e(78920);g={value:!0},f.A=void 0;var E=r(e(14041)),L=C(e(74044)),I=(0,L.default)(E.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");f.A=I}}]);})();

//# sourceMappingURL=9537.6e447b25.chunk.js.map
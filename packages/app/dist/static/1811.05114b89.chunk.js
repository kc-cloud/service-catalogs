"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1811,4315],{92303:(v,o,t)=>{t.d(o,{d:()=>s});var e=t(14041),a=t(79182),r=t(82326);function s(l){const{themeId:c,children:n,...d}=l;return e.createElement(r.Y,{themeId:c},e.createElement(a.Y,{...d}),n)}},19108:(v,o,t)=>{t.d(o,{A:()=>e,G:()=>a});const e="backstage.io/techdocs-ref",a="backstage.io/techdocs-entity"},11811:(v,o,t)=>{t.r(o),t.d(o,{EmbeddedDocsRouter:()=>D,LegacyEmbeddedDocsRouter:()=>L,Router:()=>g,isTechDocsAvailable:()=>M});var e=t(14041),a=t(18690),r=t(78560),s=t(19108),l=t(64392),c=t(39781),n=t(84893);const d=({entity:m})=>{let P=(0,r.sM)(m);if(m.metadata.annotations?.[s.G])try{P=(0,r.KU)(m.metadata.annotations?.[s.G])}catch{}return e.createElement(l.Wj,{entityRef:P},e.createElement(n.Z,null),e.createElement(c.p,{withSearch:!1}))};var E=t(4315),T=t(33402),B=t(16400),y=t(54674);const M=m=>!!m?.metadata?.annotations?.[s.A]||!!m?.metadata?.annotations?.[s.G],g=()=>e.createElement(a.BV,null,e.createElement(a.qh,{path:"/",element:e.createElement(E.TechDocsIndexPage,null)}),e.createElement(a.qh,{path:"/:namespace/:kind/:name/*",element:e.createElement(T.W,null)})),D=m=>{const{children:P,emptyState:h}=m,{entity:C}=(0,B.tN)(),A=(0,a.Ye)([{path:"/*",element:e.createElement(d,{entity:C}),children:[{path:"*",element:P}]}]);return C.metadata.annotations?.[s.A]||C.metadata.annotations?.[s.G]?A:h??e.createElement(y.o,{annotation:[s.A]})},L=m=>e.createElement(D,{children:m.children})},4348:(v,o,t)=>{t.d(o,{V:()=>e});function e(a,r){return r.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?a:a.toLocaleLowerCase("en-US")}},67633:(v,o,t)=>{t.d(o,{o:()=>m});var e=t(14041),a=t(36338),r=t(72814),s=t(18139),l=t(54195),c=t(97214),n=t(699),d=t(53318),E=t(17749),T=t(29021),B=t(65995),y=t(87318),M=t(143),g=t(61231),D=t(4348);const L=[g.B.createTitleColumn({hidden:!0}),g.B.createNameColumn(),g.B.createOwnerColumn(),g.B.createKindColumn(),g.B.createTypeColumn()],m=P=>{const{entities:h,title:C,loading:A,columns:f,actions:W,options:I}=P,[,S]=(0,a.A)(),_=(0,r.S)(E.Oc),i=(0,s.gf)(l.U);if(!h)return null;const u=h.map(O=>{const K=(0,n.t)(O,c.vv);return{entity:O,resolved:{docsUrl:_({namespace:(0,D.V)(O.metadata.namespace??"default",i),kind:(0,D.V)(O.kind,i),name:(0,D.V)(O.metadata.name,i)}),ownedByRelations:K,ownedByRelationsTitle:K.map(N=>(0,d.S)(N,{defaultKind:"group"})).join(", ")}}}),U=[M.f.createCopyDocsUrlAction(S)],R=20,p=u&&u.length>R;return e.createElement(e.Fragment,null,A||u&&u.length>0?e.createElement(T.X,{isLoading:A,options:{paging:p,pageSize:R,search:!0,actionsColumnIndex:-1,...I},data:u,columns:f||L,actions:W||U,title:C?`${C} (${u.length})`:`All (${u.length})`}):e.createElement(B.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:e.createElement(y.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained"},"DOCS")}))};m.columns=g.B,m.actions=M.f},143:(v,o,t)=>{t.d(o,{f:()=>s});var e=t(14041),a=t(55290),r=t(23730);const s={createCopyDocsUrlAction(l){return c=>({icon:()=>e.createElement(a.A,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>l(`${window.location.origin}${c.resolved.docsUrl}`)})},createStarEntityAction(l,c){return n=>{const d=n.entity,E=l(d);return{cellStyle:{paddingLeft:"1em"},icon:()=>e.createElement(r.m,{isFavorite:E}),tooltip:E?"Remove from favorites":"Add to favorites",onClick:()=>c(d)}}}}},61231:(v,o,t)=>{t.d(o,{B:()=>c});var e=t(14041),a=t(49907),r=t(75202),s=t(14158);function l(n){return n.metadata.title||n.metadata.name}const c={createTitleColumn(n){return{...c.createNameColumn(),field:"entity.metadata.title",hidden:n?.hidden}},createNameColumn(){return{title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(n,d)=>{const E=l(n.entity).toLocaleLowerCase(),T=l(d.entity).toLocaleLowerCase();return E.localeCompare(T)},render:n=>e.createElement(a.m,{value:e.createElement(r.N_,{to:n.resolved.docsUrl},l(n.entity)),subvalue:n.entity.metadata.description})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:n})=>e.createElement(s.i,{entityRefs:n.ownedByRelations,defaultKind:"group"})}},createKindColumn(){return{title:"Kind",field:"entity.kind"}},createTypeColumn(){return{title:"Type",field:"entity.spec.type"}}}},4315:(v,o,t)=>{t.r(o),t.d(o,{TechDocsIndexPage:()=>_});var e=t(14041),a=t(18690),r=t(16454),s=t(17138),l=t(56420),c=t(18453),n=t(77509),d=t(30117),E=t(40941),T=t(56829),B=t(88461),y=t(24259),M=t(19108);class g{getCatalogFilters(){return{[`metadata.annotations.${M.A}`]:y.c}}}const D=()=>{const{updateFilters:i}=(0,c.nK)();return(0,e.useEffect)(()=>{i({techdocs:new g})},[i]),null};var L=t(36338),m=t(45250),P=t(99338),h=t(62112),C=t(44861),A=t(67633),f=t(143),W=t(61231);const I=i=>{const{columns:u,actions:U,options:R}=i,{loading:p,error:O,entities:K,filters:N}=(0,c.nK)(),{isStarredEntity:F,toggleStarredEntity:j}=(0,C.I)(),[,G]=(0,L.A)(),z=(0,m.capitalize)(N.user?.value??"all"),H=[f.f.createCopyDocsUrlAction(G),f.f.createStarEntityAction(F,j)];return O?e.createElement(P.B,{severity:"error",title:"Could not load available documentation."},e.createElement(h.z,{language:"text",text:O.toString()})):e.createElement(A.o,{title:z,entities:K,loading:p,actions:U||H,columns:u,options:R})};I.columns=W.B,I.actions=f.f;const S=i=>{const{initialFilter:u="owned",columns:U,actions:R,ownerPickerMode:p}=i;return e.createElement(B.S,null,e.createElement(r.U,null,e.createElement(s.d,{title:""},e.createElement(l.Y,null,"Discover documentation in your ecosystem.")),e.createElement(c.B9,null,e.createElement(n.GI,null,e.createElement(n.GI.Filters,null,e.createElement(D,null),e.createElement(d.y,{initialFilter:u}),e.createElement(E.t,{mode:p}),e.createElement(T.m,null)),e.createElement(n.GI.Content,null,e.createElement(I,{actions:R,columns:U}))))))},_=i=>(0,a.P1)()||e.createElement(S,{...i})},88461:(v,o,t)=>{t.d(o,{S:()=>l});var e=t(14041),a=t(92303),r=t(18139),s=t(54195);const l=c=>{const{children:n}=c,E=`Documentation available in ${(0,r.gf)(s.U).getOptionalString("organization.name")??"Backstage"}`;return e.createElement(a.d,{title:"Documentation",subtitle:E,themeId:"documentation"},n)}},55290:(v,o,t)=>{var e,a=t(4293),r=t(78920);e={value:!0},o.A=void 0;var s=r(t(14041)),l=a(t(74044)),c=(0,l.default)(s.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");o.A=c}}]);})();

//# sourceMappingURL=1811.05114b89.chunk.js.map
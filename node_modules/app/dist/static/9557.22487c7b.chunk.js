"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9557],{56420:(I,s,t)=>{t.d(s,{Y:()=>M});var e=t(95208),l=t(18139),c=t(54195),m=t(77125),o=t(64947),r=t(93453),n=t(29365),d=t(46423),i=t(5951),P=t(26343),U=t(28233),W=t(55197),h=t(58837),C=t(72501),K=t(5893),a=t(14041),S=t(45250),Q=t.n(S),j=t(70209),f=t(92483),z=t(75202),F=t(89475),$=t(10265);const V=(0,h.A)({popoverList:{minWidth:260,maxWidth:400},menuItem:{whiteSpace:"normal"}},{name:"BackstageSupportButton"}),G=({icon:_})=>{const A=(0,e.n)(),p=_?A.getSystemIcon(_)??f.NT:f.NT;return a.createElement(p,null)},Y=({link:_})=>a.createElement(z.N_,{to:_.url},_.title??_.url),L=({item:_})=>a.createElement(P.A,{button:!1},a.createElement(d.A,null,a.createElement(G,{icon:_.icon})),a.createElement(i.A,{primary:_.title,secondary:_.links?.reduce((A,p,O)=>[...A,O>0&&a.createElement("br",{key:O}),a.createElement(Y,{link:p,key:p.url})],[])}));function M(_){const{t:A}=(0,$.i)(F.O),{title:p,items:O,children:N}=_,{items:X}=(0,j.l)(),[Z,J]=(0,a.useState)(!1),[E,g]=(0,a.useState)(null),v=V(),B=(0,l.gf)(c.U).getOptionalConfig("app.support"),u=(0,K.A)(D=>D.breakpoints.down("sm")),T=D=>{g(D.currentTarget),J(!0)},y=()=>{J(!1)};return B?a.createElement(a.Fragment,null,a.createElement(m.A,{display:"flex",ml:1},u?a.createElement(n.A,{color:"primary",size:"small",onClick:T,"data-testid":"support-button","aria-label":"Support"},a.createElement(f.NT,null)):a.createElement(o.A,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:T,startIcon:a.createElement(f.NT,null)},A("supportButton.title"))),a.createElement(W.Ay,{"data-testid":"support-button-popover",open:Z,anchorEl:E,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:y},a.createElement(U.A,{className:v.popoverList,autoFocusItem:!!E},p&&a.createElement(P.A,{button:!1,alignItems:"flex-start",className:v.menuItem},a.createElement(C.A,{variant:"subtitle1"},p)),a.Children.map(N,(D,H)=>a.createElement(P.A,{button:!1,alignItems:"flex-start",key:`child-${H}`,className:v.menuItem},D)),(O??X).map((D,H)=>a.createElement(L,{item:D,key:`item-${H}`}))),a.createElement(r.A,null,a.createElement(o.A,{color:"primary",onClick:y,"aria-label":"Close"},A("supportButton.close"))))):null}},45575:(I,s,t)=>{t.d(s,{f:()=>d});var e=t(77125),l=t(99703),c=t(58837),m=t(72501),o=t(14041);const r=i=>(0,l.A)({root:{color:i.palette.common.white,padding:i.spacing(2,2,3),backgroundImage:i.getPageTheme({themeId:"card"}).backgroundImage,backgroundPosition:0,backgroundSize:"inherit"}}),n=(0,c.A)(r,{name:"BackstageItemCardHeader"});function d(i){const{title:P,subtitle:U,children:W}=i,h=n(i);return o.createElement(e.A,{className:h.root},U&&o.createElement(m.A,{variant:"subtitle2",component:"h3"},U),P&&o.createElement(m.A,{variant:"h6",component:"h4"},P),W)}},92303:(I,s,t)=>{t.d(s,{d:()=>m});var e=t(14041),l=t(79182),c=t(82326);function m(o){const{themeId:r,children:n,...d}=o;return e.createElement(c.Y,{themeId:r},e.createElement(l.Y,{...d}),n)}},19108:(I,s,t)=>{t.d(s,{A:()=>e,G:()=>l});const e="backstage.io/techdocs-ref",l="backstage.io/techdocs-entity"},4348:(I,s,t)=>{t.d(s,{V:()=>e});function e(l,c){return c.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?l:l.toLocaleLowerCase("en-US")}},67633:(I,s,t)=>{t.d(s,{o:()=>S});var e=t(14041),l=t(36338),c=t(72814),m=t(18139),o=t(54195),r=t(97214),n=t(699),d=t(53318),i=t(17749),P=t(29021),U=t(65995),W=t(87318),h=t(143),C=t(61231),K=t(4348);const a=[C.B.createTitleColumn({hidden:!0}),C.B.createNameColumn(),C.B.createOwnerColumn(),C.B.createKindColumn(),C.B.createTypeColumn()],S=Q=>{const{entities:j,title:f,loading:z,columns:F,actions:$,options:V}=Q,[,G]=(0,l.A)(),Y=(0,c.S)(i.Oc),L=(0,m.gf)(o.U);if(!j)return null;const M=j.map(O=>{const N=(0,n.t)(O,r.vv);return{entity:O,resolved:{docsUrl:Y({namespace:(0,K.V)(O.metadata.namespace??"default",L),kind:(0,K.V)(O.kind,L),name:(0,K.V)(O.metadata.name,L)}),ownedByRelations:N,ownedByRelationsTitle:N.map(X=>(0,d.S)(X,{defaultKind:"group"})).join(", ")}}}),_=[h.f.createCopyDocsUrlAction(G)],A=20,p=M&&M.length>A;return e.createElement(e.Fragment,null,z||M&&M.length>0?e.createElement(P.X,{isLoading:z,options:{paging:p,pageSize:A,search:!0,actionsColumnIndex:-1,...V},data:M,columns:F||a,actions:$||_,title:f?`${f} (${M.length})`:`All (${M.length})`}):e.createElement(U.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:e.createElement(W.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained"},"DOCS")}))};S.columns=C.B,S.actions=h.f},143:(I,s,t)=>{t.d(s,{f:()=>m});var e=t(14041),l=t(55290),c=t(23730);const m={createCopyDocsUrlAction(o){return r=>({icon:()=>e.createElement(l.A,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>o(`${window.location.origin}${r.resolved.docsUrl}`)})},createStarEntityAction(o,r){return n=>{const d=n.entity,i=o(d);return{cellStyle:{paddingLeft:"1em"},icon:()=>e.createElement(c.m,{isFavorite:i}),tooltip:i?"Remove from favorites":"Add to favorites",onClick:()=>r(d)}}}}},61231:(I,s,t)=>{t.d(s,{B:()=>r});var e=t(14041),l=t(49907),c=t(75202),m=t(14158);function o(n){return n.metadata.title||n.metadata.name}const r={createTitleColumn(n){return{...r.createNameColumn(),field:"entity.metadata.title",hidden:n?.hidden}},createNameColumn(){return{title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(n,d)=>{const i=o(n.entity).toLocaleLowerCase(),P=o(d.entity).toLocaleLowerCase();return i.localeCompare(P)},render:n=>e.createElement(l.m,{value:e.createElement(c.N_,{to:n.resolved.docsUrl},o(n.entity)),subvalue:n.entity.metadata.description})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:n})=>e.createElement(m.i,{entityRefs:n.ownedByRelations,defaultKind:"group"})}},createKindColumn(){return{title:"Kind",field:"entity.kind"}},createTypeColumn(){return{title:"Type",field:"entity.spec.type"}}}},59557:(I,s,t)=>{t.r(s),t.d(s,{TechDocsCustomHome:()=>J});var e=t(14041),l=t(73466),c=t(58837),m=t(97214),o=t(78560),r=t(18139),n=t(94223),d=t(699);function i(){const E=(0,r.gf)(n.K),{loading:g,value:v}=(0,l.A)(async()=>{const{ownershipEntityRefs:u}=await E.getBackstageIdentity();return u},[]),B=(0,e.useMemo)(()=>{const u=new Set(v??[]);return T=>{const y=(0,d.t)(T,m.vv).map(o.U2);for(const D of y)if(u.has(D))return!0;return!1}},[v]);return{loading:g,isOwnedEntity:B}}var P=t(30043),U=t(24259),W=t(67633),h=t(17749),C=t(4348),K=t(72814),a=t(54195),S=t(17174),Q=t(45575),j=t(87318),f=t(40703),z=t(59469),F=t(48653),$=t(57369);const V=E=>{const{entities:g}=E,v=(0,K.S)(h.Oc),B=(0,r.gf)(a.U);return g?e.createElement(S.s,{"data-testid":"docs-explore"},g?.length?g.map((u,T)=>e.createElement(f.A,{key:T},e.createElement($.A,null,e.createElement(Q.f,{title:u.metadata.title??u.metadata.name})),e.createElement(F.A,null,u.metadata.description),e.createElement(z.A,null,e.createElement(j.z,{to:v({namespace:(0,C.V)(u.metadata.namespace??"default",B),kind:(0,C.V)(u.kind,B),name:(0,C.V)(u.metadata.name,B)}),color:"primary","data-testid":"read_docs"},"Read Docs")))):null):null};var G=t(17138),Y=t(56420),L=t(16454),M=t(96872),_=t(99338),A=t(62112),p=t(44390),O=t(88461),N=t(19108);const X={DocsTable:W.o,DocsCardGrid:V},Z=({config:E,entities:g,index:v})=>{const u=(0,c.A)({panelContainer:{marginBottom:"2rem",...E.panelCSS?E.panelCSS:{}}})(),{loading:T,isOwnedEntity:y}=i(),D=X[E.panelType],H=g.filter(R=>E.filterPredicate==="ownedByUser"?T?!1:y(R):typeof E.filterPredicate=="function"&&E.filterPredicate(R));return e.createElement(e.Fragment,null,e.createElement(G.d,{title:E.title,description:E.description},v===0?e.createElement(Y.Y,null,"Discover documentation in your ecosystem."):null),e.createElement("div",{className:u.panelContainer},e.createElement(D,{"data-testid":"techdocs-custom-panel",entities:H})))},J=E=>{const{tabsConfig:g}=E,[v,B]=(0,e.useState)(0),u=(0,r.gf)(P.v),{value:T,loading:y,error:D}=(0,l.A)(async()=>(await u.getEntities({filter:{[`metadata.annotations.${N.A}`]:U.c},fields:["apiVersion","kind","metadata","relations","spec.owner","spec.type"]})).items.filter(x=>!!x.metadata.annotations?.[N.A])),H=g[v];return y?e.createElement(O.S,null,e.createElement(L.U,null,e.createElement(M.k,null))):D?e.createElement(O.S,null,e.createElement(L.U,null,e.createElement(_.B,{severity:"error",title:"Could not load available documentation."},e.createElement(A.z,{language:"text",text:D.toString()})))):e.createElement(O.S,null,e.createElement(p.o,{selectedIndex:v,onChange:R=>B(R),tabs:g.map(({label:R},x)=>({id:x.toString(),label:R}))}),e.createElement(L.U,{"data-testid":"techdocs-content"},H.panels.map((R,x)=>e.createElement(Z,{key:x,config:R,entities:T||[],index:x}))))}},88461:(I,s,t)=>{t.d(s,{S:()=>o});var e=t(14041),l=t(92303),c=t(18139),m=t(54195);const o=r=>{const{children:n}=r,i=`Documentation available in ${(0,c.gf)(m.U).getOptionalString("organization.name")??"Backstage"}`;return e.createElement(l.d,{title:"Documentation",subtitle:i,themeId:"documentation"},n)}},55290:(I,s,t)=>{var e,l=t(4293),c=t(78920);e={value:!0},s.A=void 0;var m=c(t(14041)),o=l(t(74044)),r=(0,o.default)(m.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");s.A=r}}]);})();

//# sourceMappingURL=9557.22487c7b.chunk.js.map